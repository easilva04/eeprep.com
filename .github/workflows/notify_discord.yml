name: Notify Discord on Deployment

on:
  deployment:
    types: [created]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - name: Build
      run: echo "Building..."

  deploy:
    runs-on: ubuntu-latest
    needs: build
    steps:
    - name: Deploy
      run: echo "Deploying..."

  notify-discord:
    runs-on: ubuntu-latest
    needs: [build, deploy]
    steps:
    - name: Send message to Discord
      env:
        WEBHOOK_URL: ${{ secrets.DISCORD_WEBHOOK_URL }}
      run: |
        curl -X POST -H "Content-Type: application/json" \
          -d '{"content": "ðŸš€ A new deployment has been triggered for the website!"}' \
          $WEBHOOK_URL
